This repository contains the commands used in the database curation for the publication “A Reference Cytochrome Oxidase C Subunit I Database Curated for Hierarchical Classification of Arthropod Metabarcoding Data.” The command line approach for the database evaluation portion of this publication can be found at an alternate GitHub page, https://github.com/johnson5005/evaluating-DNA-metabarcoding. The commands are provided such that readers can work through our analyses independently and apply the approach to their own endeavors. It should be noted that the syntax, commands and software used may not be entirely transferrable for future applications given differences in computational architecture, software updates, etc. Further, these commands are given without guidance in terms of directory organization, which we leave at the discretion of the reader. Lastly, due to the ease of transferring commands from one analysis to another, we do not provide commands for every analysis performed in the paper and we assume users are sufficiently fluent to overcome troubleshooting issues that routinely occur during any extensive, large-scale data manipulation. 
While we provide commands for executing these processes serially, many steps such as the acquisition of taxonomic lineages from the NCBI Taxonomy Module can be manually parallelized by splitting files into smaller files, running the command on each file in an automated fashion and then combining the resulting output files. We also found this approach to be necessary to effectively extract the 157 bp region of interest using the Metaxa2 Database Builder Tool. Extracting these sequences from a single file of all available arthropod entries was problematic in that the alignment processes used to extract the region of interest would be executed with greater reliance on heuristic techniques, resulting in imprecise extraction.  
As with any data curation pipeline, users should appropriately search the final dataset to test for any irregularities which may have occurred during processing. In our case, we implemented a number of grep commands with Perl regular expressions to perform such evaluations. Such evaluations can be performed to ensure that all entries meet expectations with respect to the fasta headers, sequences and taxonomic lineage information. In general, NCBI Taxonomy lineages contain numerous artifacts. Some artifacts, like open nomenclature, are expected, however, many have no clear explanation and we recommend performing multiple rounds of testing and curating to ensure that the resulting database optimally meets the assumptions of hierarchical classification.
